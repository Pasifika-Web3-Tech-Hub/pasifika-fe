(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2332,6569],{11978:function(e,t,n){Promise.resolve().then(n.bind(n,52871))},52871:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return MoneyTransfer}});var s=n(57437),a=n(2265),r=n(37374),c=n(79471),i=n(93579),l=n(16691),o=n.n(l),d=n(61396),h=n.n(d);n(98065),n(90668),n(8968);var u=n(26569),m=n(92306);function MoneyTransfer(){let{isDarkMode:e}=(0,r.v)(),{primaryWallet:t,setShowAuthFlow:n}=(0,c.SX)(),[l,d]=(0,a.useState)(!1),[f,x]=(0,a.useState)(""),[p,j]=(0,a.useState)(""),[v,g]=(0,a.useState)(""),[C,N]=(0,a.useState)(""),[w,b]=(0,a.useState)(""),[y,k]=(0,a.useState)(""),[S,T]=(0,a.useState)(""),[M,E]=(0,a.useState)(!1),[D,F]=(0,a.useState)("Guest"),[P,I]=(0,a.useState)([]),[A,B]=(0,a.useState)(null),{writeContract:H,isPending:L,isSuccess:R,isError:_,error:O,data:W}=(0,i.S)(),K=u.address;(0,a.useEffect)(()=>{t?(d(!0),fetchMembershipLevel(),fetchTransferHistory()):d(!1)},[t]),(0,a.useEffect)(()=>{R&&W&&(b("Transfer successful!"),k(W),E(!1),x(""),j(""),g(""),fetchTransferHistory()),_&&O&&(N("Error: ".concat(O.message)),E(!1))},[R,_,O,W]);let fetchMembershipLevel=async()=>{let e=["Guest","Member","Node Operator"],t=e[Math.floor(Math.random()*e.length)];F(t)},fetchTransferHistory=async()=>{let e=[{recipient:"0x1234...5678",amount:"0.01 ETH / 0.0002 RBTC",date:new Date(Date.now()-864e5).toLocaleString(),status:"Completed"},{recipient:"0x8765...4321",amount:"0.05 ETH / 0.001 RBTC",date:new Date(Date.now()-1728e5).toLocaleString(),status:"Completed"}];I(e)},Z=(0,a.useCallback)(e=>{if(!e)return"0";let t=parseFloat(e),n=.01;return"Member"===D?n=.005:"Node Operator"===D&&(n=.0025),(t*n).toFixed(4)},[D]);(0,a.useEffect)(()=>{T(Z(p))},[p,D,Z]);let handleTransfer=async()=>{if(N(""),b(""),k(""),!f){N("Please enter a recipient address");return}if(!p||0>=parseFloat(p)){N("Please enter a valid amount");return}let e=BigInt(1e18*parseFloat(p));try{E(!0),H({address:K,abi:m,functionName:"transferMoney",args:[f,e,v||""]})}catch(e){E(!1),N("Error: ".concat(e.message))}};return(0,s.jsxs)("div",{className:"container ".concat(e?"dark":"light"),children:[(0,s.jsx)("div",{className:"header",children:(0,s.jsxs)("div",{className:"header-container",children:[(0,s.jsxs)("div",{className:"logo",children:[(0,s.jsx)(o(),{src:"/pasifika.png",alt:"Pasifika",width:50,height:50}),(0,s.jsx)("div",{className:"logo-text",children:(0,s.jsx)("span",{className:"logo-accent",children:"Pasifika"})})]}),(0,s.jsx)("div",{className:"nav-menu",children:(0,s.jsx)("div",{className:"nav-item",children:(0,s.jsx)(h(),{href:"/our-services",className:"nav-link-button",children:"Back to Services"})})})]})}),(0,s.jsxs)("div",{className:"page-content",children:[(0,s.jsx)("div",{className:"page-banner",children:(0,s.jsx)("h1",{children:"Money Transfer Service"})}),(0,s.jsx)("div",{className:"content-container",children:(0,s.jsxs)("div",{className:"content-section",children:[(0,s.jsx)("h2",{children:"Send Money Across Borders"}),(0,s.jsx)("p",{children:"Our decentralized money transfer service, built on Arbitrum, allows you to send funds to anyone in the Pacific Islands with lower fees than traditional remittance services."}),(0,s.jsxs)("div",{className:"wallet-section",children:[(0,s.jsx)("h3",{children:"Your Wallet"}),l?(0,s.jsxs)("div",{className:"wallet-info",children:[(0,s.jsxs)("div",{className:"wallet-status connected",children:[(0,s.jsx)("span",{className:"wallet-icon",children:"\uD83D\uDCBC"}),(0,s.jsx)("span",{children:"Wallet Connected"})]}),(0,s.jsxs)("div",{className:"wallet-address",children:[null==t?void 0:t.address.substring(0,6),"...",null==t?void 0:t.address.substring((null==t?void 0:t.address.length)-4)]}),(0,s.jsx)("div",{className:"membership-badge",children:(0,s.jsxs)("span",{children:["Membership Level: ",(0,s.jsx)("strong",{children:D})]})}),(0,s.jsx)("button",{className:"wallet-button disconnect",onClick:()=>n(!0),children:"Disconnect Wallet"})]}):(0,s.jsxs)("div",{className:"wallet-connection",children:[(0,s.jsxs)("div",{className:"wallet-status",children:[(0,s.jsx)("span",{className:"wallet-icon",children:"\uD83D\uDCBC"}),(0,s.jsx)("span",{children:"Wallet Not Connected"})]}),(0,s.jsx)("button",{className:"wallet-button connect",onClick:()=>n(!0),children:"Connect Wallet"}),(0,s.jsx)("p",{className:"wallet-note",children:"Please connect your wallet to use the money transfer service"})]})]}),l&&(0,s.jsxs)("div",{className:"transfer-form-container",children:[(0,s.jsx)("h3",{children:"Send Money"}),(0,s.jsxs)("div",{className:"transfer-form",children:[(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"recipient",children:"Recipient Address"}),(0,s.jsxs)("div",{className:"input-with-button",children:[(0,s.jsx)("input",{type:"text",id:"recipient",placeholder:"0x...",value:f,onChange:e=>x(e.target.value)}),(0,s.jsx)("button",{className:"lookup-button",onClick:()=>{if(!f||f.length<42){N("Please enter a valid address"),B(null);return}E(!0),setTimeout(()=>{B({address:f,name:"Unknown Recipient",previousTransfers:Math.floor(5*Math.random())}),E(!1)},1e3)},disabled:M,children:"Lookup"})]})]}),A&&(0,s.jsxs)("div",{className:"recipient-info",children:[(0,s.jsx)("h4",{children:"Recipient Information"}),(0,s.jsxs)("p",{children:["Name: ",A.name]}),(0,s.jsxs)("p",{children:["Previous transfers: ",A.previousTransfers]})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"amount",children:"Amount (ETH)"}),(0,s.jsx)("input",{type:"number",id:"amount",placeholder:"0.00",min:"0",step:"0.001",value:p,onChange:e=>j(e.target.value)})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"memo",children:"Memo (Optional)"}),(0,s.jsx)("input",{type:"text",id:"memo",placeholder:"What's this for?",value:v,onChange:e=>g(e.target.value)})]}),(0,s.jsxs)("div",{className:"fee-info",children:[(0,s.jsxs)("p",{children:["Network Fee: ",(0,s.jsx)("span",{className:"fee-amount",children:"0.001 ETH / 0.00002 RBTC"})]}),(0,s.jsxs)("p",{children:["Service Fee (","Member"===D?"0.5%":"Node Operator"===D?"0.25%":"1%","): ",(0,s.jsxs)("span",{className:"fee-amount",children:[S," ETH / ",(.02*parseFloat(S)).toFixed(6)," RBTC"]})]}),(0,s.jsxs)("p",{children:["Total: ",(0,s.jsxs)("span",{className:"total-amount",children:[p?(parseFloat(p)+parseFloat(S)+.001).toFixed(6):"0.001"," ETH / ",p?((parseFloat(p)+parseFloat(S)+.001)*.02).toFixed(6):"0.00002"," RBTC"]})]})]}),(0,s.jsx)("button",{className:"transfer-button",onClick:handleTransfer,disabled:L||M,children:L||M?"Processing...":"Send Money"}),C&&(0,s.jsx)("div",{className:"error-message",children:C}),w&&(0,s.jsxs)("div",{className:"success-message",children:[(0,s.jsx)("p",{children:w}),y&&(0,s.jsxs)("p",{className:"transaction-hash",children:["Transaction Hash: ",(0,s.jsxs)("a",{href:"https://sepolia.arbiscan.io/tx/".concat(y),target:"_blank",rel:"noopener noreferrer",children:[y.substring(0,10),"...",y.substring(y.length-8)]})]})]})]})]}),l&&P.length>0&&(0,s.jsxs)("div",{className:"transfer-history",children:[(0,s.jsx)("h3",{children:"Recent Transfers"}),(0,s.jsxs)("table",{className:"history-table",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Recipient"}),(0,s.jsx)("th",{children:"Amount"}),(0,s.jsx)("th",{children:"Date"}),(0,s.jsx)("th",{children:"Status"})]})}),(0,s.jsx)("tbody",{children:P.map((e,t)=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:e.recipient}),(0,s.jsx)("td",{children:e.amount}),(0,s.jsx)("td",{children:e.date}),(0,s.jsx)("td",{children:e.status})]},t))})]})]})]})})]}),(0,s.jsx)("div",{className:"footer-banner",children:(0,s.jsx)("p",{children:"Copyright \xa9 Pasifika 2025"})})]})}},37374:function(e,t,n){"use strict";n.d(t,{v:function(){return useDarkMode}});var s=n(2265);let checkIsDarkSchemePreferred=()=>{var e,t,n,s;return null!==(s=null===(t=(n=window).matchMedia)||void 0===t?void 0:null===(e=t.call(n,"(prefers-color-scheme:dark)"))||void 0===e?void 0:e.matches)&&void 0!==s&&s};function useDarkMode(){let[e,t]=(0,s.useState)(checkIsDarkSchemePreferred);return(0,s.useEffect)(()=>{let e=window.matchMedia("(prefers-color-scheme: dark)"),handleChange=()=>t(checkIsDarkSchemePreferred());return e.addEventListener("change",handleChange),()=>e.removeEventListener("change",handleChange)},[]),{isDarkMode:e}}},8968:function(){},98065:function(){},90668:function(){},46981:function(e,t,n){"use strict";function getAction(e,t,n){let s=e[t.name];if("function"==typeof s)return s;let a=e[n];return"function"==typeof a?a:n=>t(e,n)}n.d(t,{s:function(){return getAction}})},93579:function(e,t,n){"use strict";n.d(t,{S:function(){return useWriteContract}});var s=n(23588),a=n(23570),r=n(46981),c=n(45583),i=n(39730),l=n(4832),o=n(39803),d=n(76026);async function getConnectorClient(e,t={}){let n;if(t.connector){let{connector:s}=t;if("reconnecting"===e.state.status&&!s.getAccounts&&!s.getChainId)throw new d.$S({connector:s});let[a,r]=await Promise.all([s.getAccounts().catch(e=>{if(null===t.account)return[];throw e}),s.getChainId()]);n={accounts:a,chainId:r,connector:s}}else n=e.state.connections.get(e.state.current);if(!n)throw new d.aH;let s=t.chainId??n.chainId,a=await n.connector.getChainId();if(a!==n.chainId)throw new d.XZ({connectionChainId:n.chainId,connectorChainId:a});let r=n.connector;if(r.getClient)return r.getClient({chainId:s});let h=(0,l.T)(t.account??n.accounts[0]);if(h&&(h.address=(0,o.K)(h.address)),t.account&&!n.accounts.some(e=>e.toLowerCase()===h.address.toLowerCase()))throw new d.JK({address:h.address,connector:r});let u=e.chains.find(e=>e.id===s),m=await n.connector.getProvider({chainId:s});return(0,c.e)({account:h,chain:u,name:"Connector Client",transport:e=>(0,i.P)(m)({...e,retryCount:0})})}async function writeContract_writeContract(e,t){let n;let{account:s,chainId:c,connector:i,...l}=t;n="object"==typeof s&&s?.type==="local"?e.getClient({chainId:c}):await getConnectorClient(e,{account:s??void 0,chainId:c,connector:i});let o=(0,r.s)(n,a.n,"writeContract"),d=await o({...l,...s?{account:s}:{},chain:c?{id:c}:null});return d}var h=n(41012);function useWriteContract(e={}){let{mutation:t}=e,n=(0,h.Z)(e),{mutate:a,mutateAsync:r,...c}=(0,s.D)({...t,mutationFn:e=>writeContract_writeContract(n,e),mutationKey:["writeContract"]});return{...c,writeContract:a,writeContractAsync:r}}},26569:function(e){"use strict";e.exports=JSON.parse('{"contractName":"PasifikaMoneyTransfer","address":"0x80d3c57b95a2fca3900f3EAC71196Bf133aaa517","network":"Arbitrum Sepolia","chainId":421614,"explorer":"https://sepolia.arbiscan.io/address/0x80d3c57b95a2fca3900f3EAC71196Bf133aaa517","deployedAt":"2025-05-12T03:16:28Z"}')}},function(e){e.O(0,[1473,7346,1165,5559,7769,9056,8835,7860,9958,749,2306,2971,2472,1744],function(){return e(e.s=11978)}),_N_E=e.O()}]);