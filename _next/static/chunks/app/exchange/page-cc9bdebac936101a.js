(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2888],{78796:function(e,a,s){Promise.resolve().then(s.bind(s,31814))},31814:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return ExchangePage}});var n=s(57437),t=s(2265);s(97377);var r=s(26338),i=s(52078),l=s(29147),o=s(79352),c=s(99835),d=s(52619),m=s(93579),h=s(45233);let u=[{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}];var p=s(16775);let x=[{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}];function useTokenBalance(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18,{address:s}=(0,c.m)(),[n,r]=(0,t.useState)("0"),{data:i,isLoading:l,error:o}=(0,h.u)({address:e,abi:x,functionName:"balanceOf",args:s?[s]:void 0,query:{enabled:!!(s&&e)}});return(0,t.useEffect)(()=>{i?r((0,p.b)(i,a)):r("0")},[i,a]),{balance:i,formattedBalance:n,isLoading:l,error:o}}var g=s(60127);function TokenApproval(e){let{tokenAddress:a,tokenSymbol:s,tokenDecimals:r,onApprovalComplete:o}=e,[d,h]=(0,t.useState)(BigInt(0)),[p,x]=(0,t.useState)(!1),[f,j]=(0,t.useState)(""),[v,y]=(0,t.useState)(!1),{checkAllowance:b,approveToken:N,isPending:k,isSuccess:C,isError:w,error:T,isCheckingAllowance:A}=function(){let{address:e}=(0,c.m)(),{writeContractAsync:a,isPending:s,isSuccess:n,isError:r,error:l}=(0,m.S)(),[o,d]=(0,t.useState)(!1),checkAllowance=async(a,s)=>{if(!e)return BigInt(0);d(!0);try{let n=await fetch("https://sepolia-rollup.arbitrum.io/rpc",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:1,method:"eth_call",params:[{to:a,data:"0xdd62ed3e000000000000000000000000".concat(e.slice(2),"000000000000000000000000").concat(s.slice(2))},"latest"]})}).then(e=>e.json());if(n.error)throw Error(n.error.message);let t=n.result?BigInt(n.result):BigInt(0);return t}catch(e){return console.error("Error checking allowance:",e),BigInt(0)}finally{d(!1)}},approveToken=async function(s,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,i.f)("1000000000");if(e)try{let e=await a({address:s,abi:u,functionName:"approve",args:[n,t]});return e}catch(e){throw console.error("Error approving token:",e),e}};return{checkAllowance,approveToken,isPending:s,isSuccess:n,isError:r,error:l,isCheckingAllowance:o}}(),{formattedBalance:S}=useTokenBalance(a,r),B=(0,t.useCallback)(async()=>{try{let e=await b(a,g.lY.address);h(e),x(!0)}catch(e){console.error("Failed to load allowance:",e)}},[a,b]);(0,t.useEffect)(()=>{a&&B()},[a,C,B]);let handleUnlimitedApprove=async()=>{try{await N(a,g.lY.address),o&&o()}catch(e){console.error("Approval failed:",e)}},handleCustomApprove=async()=>{if(!(!f||0>=parseFloat(f)))try{let e=(0,l.v)(f,r);await N(a,g.lY.address,e),o&&o()}catch(e){console.error("Approval failed:",e)}},E=d>BigInt(0);return(0,n.jsxs)("div",{className:"card",style:{marginBottom:"1rem"},children:[(0,n.jsx)("h3",{className:"card-title",children:"Token Approval Required"}),(0,n.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,n.jsxs)("p",{children:["Before you can trade or provide liquidity with ",s,", you need to approve the Pasifika Exchange to use your tokens."]}),(0,n.jsxs)("p",{children:["Your ",s," Balance: ",S]}),p&&(0,n.jsxs)("p",{children:["Current Allowance: ",E?"".concat(Number(d)/Math.pow(10,r)," ").concat(s):"None"]})]}),v?(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{children:"Amount to Approve"}),(0,n.jsx)("input",{type:"number",className:"input-field",placeholder:"Enter ".concat(s," amount"),value:f,onChange:e=>j(e.target.value)})]}),(0,n.jsxs)("div",{style:{display:"flex",gap:"1rem"},children:[(0,n.jsx)("button",{className:"action-button",onClick:handleCustomApprove,disabled:k||!f||0>=parseFloat(f),style:{flex:"1"},children:k?"Approving...":"Approve ".concat(f," ").concat(s)}),(0,n.jsx)("button",{onClick:()=>y(!1),className:"action-button",style:{flex:"1",background:"rgba(255, 255, 255, 0.1)",color:"var(--foreground)"},children:"Back"})]})]}):(0,n.jsxs)("div",{style:{display:"flex",gap:"1rem",flexWrap:"wrap"},children:[(0,n.jsx)("button",{className:"action-button",onClick:handleUnlimitedApprove,disabled:k,style:{flex:"1"},children:k?"Approving...":"Approve ".concat(s," (Unlimited)")}),(0,n.jsx)("button",{onClick:()=>y(!0),className:"action-button",style:{flex:"1",background:"rgba(255, 255, 255, 0.1)",color:"var(--foreground)"},children:"Approve Custom Amount"})]}),C&&(0,n.jsxs)("div",{style:{color:"green",marginTop:"0.5rem"},children:["Approval successful! You can now trade ",s,"."]}),w&&(0,n.jsxs)("div",{style:{color:"red",marginTop:"0.5rem"},children:["Error: ",(null==T?void 0:T.message)||"Unknown error"]})]})}function TokenBalance(e){let{tokenAddress:a,tokenSymbol:s,tokenDecimals:t=18,className:r=""}=e,{address:i}=(0,c.m)(),l=!a||"ETH"===s.toUpperCase(),{data:o,isLoading:m}=(0,d.K)({address:l?i:void 0}),{formattedBalance:h,isLoading:u}=useTokenBalance(l?void 0:a,t),p=l?(null==o?void 0:o.formatted)||"0":h,x=l?m:u;return(0,n.jsxs)("div",{className:"token-balance ".concat(r),children:[(0,n.jsxs)("div",{className:"balance-label",children:["Your ",s," Balance:"]}),(0,n.jsx)("div",{className:"balance-value",children:x?(0,n.jsx)("span",{className:"loading",children:"Loading..."}):(0,n.jsxs)("span",{children:[parseFloat(p).toFixed(6)," ",s]})})]})}function PriceChart(e){let{tokenAddress:a,tokenSymbol:s,tokenDecimals:r}=e,[i,l]=(0,t.useState)([]),[o,c]=(0,t.useState)(!0),{data:d,isLoading:m,error:u}=(0,h.u)({address:g.Ru.address,abi:g.Ru.abi,functionName:"getLatestPrice",args:[a]});(0,t.useEffect)(()=>{u&&(console.error("Error fetching price data:",u),c(!1))},[u]),(0,t.useEffect)(()=>{c(!0);let e=1;"USDC"===s||"USDT"===s?e=1:"ARB"===s&&(e=1.85);let a=d?Number((0,p.b)(BigInt(d),8)):e,n=[],t=Date.now();for(let e=30;e>=0;e--){let s=.95+.1*Math.random();n.push({timestamp:t-864e5*e,price:a*s})}l(n),c(!1)},[d,m,s]);let[x,f]=(0,t.useState)({width:600,height:200}),j=(0,t.useRef)(null);(0,t.useEffect)(()=>{let updateDimensions=()=>{if(j.current){let e=j.current.clientWidth;f({width:Math.min(e-20,800),height:Math.min(Math.max(.3*e,180),250)})}};return updateDimensions(),window.addEventListener("resize",updateDimensions),()=>window.removeEventListener("resize",updateDimensions)},[]);let v=x.width-80,y=x.height-80,b=i.length>0?.99*Math.min(...i.map(e=>e.price)):0,N=i.length>0?1.01*Math.max(...i.map(e=>e.price)):0,k=N-b,C=(()=>{if(i.length<2)return{percent:0,isPositive:!0};let e=i[0].price,a=i[i.length-1].price,s=(a-e)/e*100;return{percent:Math.abs(s).toFixed(2),isPositive:s>=0}})();return o?(0,n.jsxs)("div",{className:"card",children:[(0,n.jsxs)("h3",{className:"card-title",children:[s," Price Chart"]}),(0,n.jsxs)("div",{style:{textAlign:"center",padding:"2rem"},children:[(0,n.jsx)("svg",{width:"40",height:"40",viewBox:"0 0 50 50",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("circle",{cx:"25",cy:"25",r:"20",fill:"none",stroke:"var(--foreground-dim)",strokeWidth:"4",strokeLinecap:"round",strokeDasharray:"94.2477796076938 31.41592653589793",transform:"rotate(0 25 25)",children:(0,n.jsx)("animateTransform",{attributeName:"transform",type:"rotate",values:"0 25 25;360 25 25",dur:"1s",repeatCount:"indefinite"})})}),(0,n.jsx)("p",{style:{marginTop:"1rem"},children:"Loading price data..."})]})]}):(0,n.jsxs)("div",{className:"card",children:[(0,n.jsxs)("h3",{className:"card-title",children:[s," Price Chart"]}),(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem",padding:"0 10px"},children:[(0,n.jsxs)("div",{style:{textAlign:"left"},children:[(0,n.jsx)("div",{style:{fontSize:"0.85rem",color:"var(--foreground-dim)"},children:"Current Price:"}),(0,n.jsxs)("div",{style:{fontSize:"1.5rem",fontWeight:"bold"},children:["$",i.length>0?i[i.length-1].price.toFixed(2):"0"]})]}),(0,n.jsxs)("div",{style:{textAlign:"right",padding:"6px 12px",borderRadius:"4px",backgroundColor:C.isPositive?"rgba(46, 200, 94, 0.1)":"rgba(255, 91, 87, 0.1)",border:"1px solid ".concat(C.isPositive?"rgba(46, 200, 94, 0.3)":"rgba(255, 91, 87, 0.3)")},children:[(0,n.jsx)("div",{style:{fontSize:"0.85rem",color:"var(--foreground-dim)"},children:"30-Day Change"}),(0,n.jsxs)("div",{style:{fontSize:"1.2rem",fontWeight:"bold",color:C.isPositive?"#2EC85E":"#FF5B57",display:"flex",alignItems:"center",gap:"4px"},children:[C.isPositive?"+":"-",C.percent,"%",(0,n.jsx)("span",{style:{fontSize:"1rem"},children:C.isPositive?"↑":"↓"})]})]})]}),(0,n.jsx)("div",{style:{overflowX:"auto"},ref:j,children:(0,n.jsxs)("svg",{width:x.width,height:x.height,viewBox:"0 0 ".concat(x.width," ").concat(x.height),children:[(0,n.jsx)("defs",{children:(0,n.jsxs)("linearGradient",{id:"areaGradient",x1:"0",x2:"0",y1:"0",y2:"1",children:[(0,n.jsx)("stop",{offset:"0%",stopColor:C.isPositive?"#2EC85E":"#FF5B57",stopOpacity:"0.4"}),(0,n.jsx)("stop",{offset:"100%",stopColor:C.isPositive?"#2EC85E":"#FF5B57",stopOpacity:"0.05"})]})}),(0,n.jsx)("rect",{x:40,y:40,width:v,height:y,fill:"rgba(20, 20, 30, 0.15)",stroke:"rgba(255, 255, 255, 0.1)",rx:"4"}),[.25,.5,.75].map((e,a)=>(0,n.jsxs)("g",{children:[(0,n.jsx)("line",{x1:40,y1:40+y*(1-e),x2:40+v,y2:40+y*(1-e),stroke:"rgba(255, 255, 255, 0.1)",strokeDasharray:"5,5"}),(0,n.jsxs)("text",{x:35,y:40+y*(1-e)+5,textAnchor:"end",fill:"var(--foreground-dim)",fontSize:"10",children:["$",(b+k*e).toFixed(2)]})]},a)),(0,n.jsx)("path",{d:(()=>{if(0===i.length)return"";let e=i.map((e,a)=>{let s=40+a*(v/(i.length-1)),n=40+y-(e.price-b)/k*y;return"".concat(s,",").concat(n)}),a=40+y;return"M ".concat(40,",").concat(a," L ").concat(e.join(" L ")," L ").concat(40+v,",").concat(a," Z")})(),fill:"url(#areaGradient)"}),(0,n.jsx)("path",{d:(()=>{if(0===i.length)return"";let e=i.map((e,a)=>{let s=40+a*(v/(i.length-1)),n=40+y-(e.price-b)/k*y;return"".concat(s,",").concat(n)});return"M ".concat(e.join(" L "))})(),fill:"none",stroke:C.isPositive?"#2EC85E":"#FF5B57",strokeWidth:"3",strokeLinecap:"round"}),i.filter((e,a)=>a%6==0||a===i.length-1).map((e,a)=>{let s=40+6*a*(v/(i.length-1)),t=40+y-(e.price-b)/k*y;if(a===Math.floor(i.length/6)){let e=i.length-1,a=40+e*(v/(i.length-1)),s=40+y-(i[e].price-b)/k*y;return(0,n.jsx)("circle",{cx:a,cy:s,r:"4",fill:"#FFFFFF",stroke:C.isPositive?"#2EC85E":"#FF5B57",strokeWidth:"2"},"last-point")}return(0,n.jsx)("circle",{cx:s,cy:t,r:"3",fill:C.isPositive?"#2EC85E":"#FF5B57",stroke:"#FFFFFF",strokeWidth:"1"},a)}),i.filter((e,a)=>a%6==0).map((e,a)=>(0,n.jsx)("text",{x:40+6*a*(v/(i.length-1)),y:40+y+15,textAnchor:"middle",fill:"var(--foreground-dim)",fontSize:"10",children:new Date(e.timestamp).toLocaleDateString(void 0,{month:"short",day:"numeric"})},a))]})}),(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"1rem",fontSize:"0.85rem",color:"var(--foreground-dim)",padding:"0 10px"},children:[(0,n.jsx)("div",{children:"Data source: Chainlink Price Feed"}),(0,n.jsxs)("div",{style:{color:"var(--primary)"},children:[s," market trends"]})]})]})}let f=[{address:"0x75faf114eafb1BDbe2F0316DF893fd58CE46AA4d",symbol:"USDC",name:"USD Coin",decimals:6},{address:"0xEe01c0CD76354C383B8c7B4e65EA88D00B06f36f",symbol:"USDT",name:"Tether USD",decimals:6},{address:"0x530A7A937Be63591a12D4550B02Daf806E53968d",symbol:"ARB",name:"Arbitrum",decimals:18}];function SwapForm(){let[e,a]=(0,t.useState)(""),[s,m]=(0,t.useState)(""),[h,u]=(0,t.useState)(f[0]),[p,x]=(0,t.useState)("ethToToken"),[g,j]=(0,t.useState)(.5),[v,y]=(0,t.useState)(!1),[b,N]=(0,t.useState)(!0),{address:k}=(0,c.m)(),{data:C}=(0,d.K)({address:k}),{swapETHForTokens:w,swapTokensForETH:T,useTokensOutEstimate:A,useETHOutEstimate:S,isPending:B,isSuccess:E,isError:P,error:F}=(0,r.h)(),{data:D}=A("ethToToken"===p?h.address:void 0,e?(0,i.f)(e):BigInt(0)),{data:L}=S("tokenToEth"===p?h.address:void 0,s?(0,l.v)(s,h.decimals):BigInt(0));(0,t.useEffect)(()=>{"ethToToken"===p&&e&&D?m((0,o.d)(D)):"tokenToEth"===p&&s&&L&&a((0,o.d)(L))},[e,s,p,D,L]);let toggleSwapDirection=()=>{x("ethToToken"===p?"tokenToEth":"ethToToken"),a(""),m("")},getMinTokens=()=>{if(!D)return BigInt(0);let e=D*BigInt(Math.floor(1e4-100*g))/BigInt(1e4);return e},getMinEth=()=>{if(!L)return BigInt(0);let e=L*BigInt(Math.floor(1e4-100*g))/BigInt(1e4);return e},handleSwap=async()=>{try{"ethToToken"===p?await w(h.address,getMinTokens(),(0,i.f)(e)):await T(h.address,(0,l.v)(s,h.decimals),getMinEth())}catch(e){console.error("Swap failed:",e)}};return(0,n.jsxs)(n.Fragment,{children:[v&&"tokenToEth"===p&&(0,n.jsx)(TokenApproval,{tokenAddress:h.address,tokenSymbol:h.symbol,tokenDecimals:h.decimals,onApprovalComplete:()=>y(!1)}),b&&(0,n.jsx)("div",{className:"price-chart-wrapper",style:{display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"20px",width:"100%",maxWidth:"100%",overflow:"hidden"},children:(0,n.jsx)("div",{style:{width:"100%",maxWidth:"900px",margin:"0 auto"},children:(0,n.jsx)(PriceChart,{tokenAddress:h.address,tokenSymbol:h.symbol,tokenDecimals:h.decimals})})}),(0,n.jsxs)("div",{className:"card",children:[(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[(0,n.jsx)("h2",{className:"card-title",style:{margin:0},children:"Swap"}),(0,n.jsxs)("button",{onClick:()=>N(!b),style:{background:"none",border:"none",color:"var(--foreground-dim)",cursor:"pointer",display:"flex",alignItems:"center",fontSize:"0.9rem"},children:[b?"Hide Chart":"Show Chart"," \uD83D\uDCCA"]})]}),(0,n.jsxs)("div",{style:{padding:"10px 15px",backgroundColor:"rgba(41, 182, 246, 0.1)",borderLeft:"3px solid #29B6F6",borderRadius:"4px",marginBottom:"1rem",fontSize:"0.9rem"},children:[(0,n.jsx)("p",{style:{margin:"0 0 8px 0",fontWeight:500},children:(0,n.jsxs)("span",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[(0,n.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"#29B6F6",children:(0,n.jsx)("path",{d:"M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20A8,8 0 0,0 20,12A8,8 0 0,0 12,4M11,16.5L6.5,12L7.91,10.59L11,13.67L16.59,8.09L18,9.5L11,16.5Z"})}),"Proof-of-Concept: Chainlink Integration"]})}),(0,n.jsxs)("p",{style:{margin:"0",color:"var(--foreground-dim)"},children:["This exchange is using Chainlink price feed oracles with secure decimal handling to prevent overflow/underflow issues. Currently operating on ",(0,n.jsx)("strong",{children:"Arbitrum Sepolia testnet"})," with limited token selection."]})]}),(0,n.jsxs)("div",{className:"exchange-form",children:["ethToToken"===p?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{children:"You pay"}),(0,n.jsxs)("div",{className:"input-container",children:[(0,n.jsx)("input",{type:"number",className:"input-field",placeholder:"0.0",value:e,onChange:e=>a(e.target.value)}),(0,n.jsx)("button",{className:"max-button",onClick:()=>{if(C){let e=Number((0,o.d)(C.value))>.01?Number((0,o.d)(C.value))-.01:0;a(e.toString())}},children:"MAX"})]}),(0,n.jsx)(TokenBalance,{tokenSymbol:"ETH",className:"token-balance-display"})]}),(0,n.jsx)("div",{className:"swap-arrow",onClick:toggleSwapDirection,children:"↓"}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{children:"You receive"}),(0,n.jsx)("div",{className:"input-container",children:(0,n.jsx)("input",{type:"number",className:"input-field",placeholder:"0.0",value:s,onChange:e=>m(e.target.value),readOnly:!0})}),(0,n.jsx)(TokenBalance,{tokenAddress:h.address,tokenSymbol:h.symbol,tokenDecimals:h.decimals,className:"token-balance-display"}),(0,n.jsx)("select",{className:"token-select",value:h.address,onChange:e=>{let a=f.find(a=>a.address===e.target.value);a&&(u(a),y(!1))},children:f.map(e=>(0,n.jsxs)("option",{value:e.address,children:[e.symbol," - ",e.name]},e.address))})]})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{children:"You pay"}),(0,n.jsx)("div",{className:"input-container",children:(0,n.jsx)("input",{type:"number",className:"input-field",placeholder:"0.0",value:s,onChange:e=>m(e.target.value)})}),(0,n.jsx)(TokenBalance,{tokenAddress:h.address,tokenSymbol:h.symbol,tokenDecimals:h.decimals,className:"token-balance-display"}),(0,n.jsx)("select",{className:"token-select",value:h.address,onChange:e=>{let a=f.find(a=>a.address===e.target.value);a&&(u(a),y(!1))},children:f.map(e=>(0,n.jsxs)("option",{value:e.address,children:[e.symbol," - ",e.name]},e.address))})]}),(0,n.jsx)("div",{className:"swap-arrow",onClick:toggleSwapDirection,children:"↓"}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{children:"You receive"}),(0,n.jsx)("div",{className:"input-container",children:(0,n.jsx)("input",{type:"number",className:"input-field",placeholder:"0.0",value:e,onChange:e=>a(e.target.value),readOnly:!0})}),(0,n.jsx)("div",{style:{marginTop:"0.5rem",fontSize:"0.85rem",color:"var(--foreground-dim)"},children:"ETH"})]})]}),(0,n.jsxs)("div",{className:"price-info",children:[(0,n.jsxs)("div",{children:["Slippage Tolerance: ",g,"%"]}),(0,n.jsxs)("div",{children:["Rate: 1 ","ethToToken"===p?"ETH":h.symbol," =","ethToToken"===p?e&&s?" ".concat((Number(s)/Number(e)).toFixed(6)," ").concat(h.symbol):" 0 ".concat(h.symbol):s&&e?" ".concat((Number(e)/Number(s)).toFixed(6)," ETH"):" 0 ETH"]})]}),(0,n.jsx)("button",{className:"action-button",onClick:handleSwap,disabled:B||!e||!s||0>=Number(e)||0>=Number(s),children:B?"Swapping...":"Swap"}),E&&(0,n.jsx)("div",{style:{color:"green",marginTop:"0.5rem"},children:"Swap successful!"}),P&&(0,n.jsxs)("div",{style:{color:"red",marginTop:"0.5rem"},children:["Error: ",(null==F?void 0:F.message)||"Unknown error"]}),(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"1rem"},children:["tokenToEth"===p&&(0,n.jsx)("button",{className:"action-button",onClick:()=>y(!0),style:{background:"rgba(255, 255, 255, 0.1)",color:"var(--foreground)",flex:"1 1 auto",marginRight:"0.5rem"},children:"Manage Token Approvals"}),(0,n.jsx)("button",{className:"action-button",onClick:()=>N(!b),style:{background:"rgba(255, 255, 255, 0.1)",color:"var(--foreground)",flex:"1 1 auto",marginLeft:"tokenToEth"===p?"0.5rem":"0"},children:b?"Hide Price Chart":"Show Price Chart"})]})]})]})]})}let j=[{address:"0x75faf114eafb1BDbe2F0316DF893fd58CE46AA4d",symbol:"USDC",name:"USD Coin",decimals:6},{address:"0xEe01c0CD76354C383B8c7B4e65EA88D00B06f36f",symbol:"USDT",name:"Tether USD",decimals:6},{address:"0x530A7A937Be63591a12D4550B02Daf806E53968d",symbol:"ARB",name:"Arbitrum",decimals:18}];function LiquidityForm(){let[e,a]=(0,t.useState)("add"),[s,l]=(0,t.useState)(""),[m,h]=(0,t.useState)(""),[u,p]=(0,t.useState)(""),[x,g]=(0,t.useState)(j[0]),{address:f}=(0,c.m)(),{data:v}=(0,d.K)({address:f}),{addLiquidity:y,removeLiquidity:b,pairs:N,refreshPairs:k,isPending:C,isSuccess:w,isError:T,error:A}=(0,r.h)();(0,t.useEffect)(()=>{k()},[k]);let handleAddLiquidity=async()=>{try{if(!s||!m)return;await y(x.address,(0,i.f)(m),(0,i.f)(s))}catch(e){console.error("Failed to add liquidity:",e)}},handleRemoveLiquidity=async()=>{try{if(!u)return;await b(x.address,(0,i.f)(u))}catch(e){console.error("Failed to remove liquidity:",e)}};return(0,n.jsxs)("div",{className:"card",children:[(0,n.jsx)("h2",{className:"card-title",children:"Liquidity"}),(0,n.jsxs)("div",{style:{padding:"10px 15px",backgroundColor:"rgba(41, 182, 246, 0.1)",borderLeft:"3px solid #29B6F6",borderRadius:"4px",margin:"1rem 0",fontSize:"0.9rem"},children:[(0,n.jsx)("p",{style:{margin:"0 0 8px 0",fontWeight:500},children:(0,n.jsxs)("span",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[(0,n.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"#29B6F6",children:(0,n.jsx)("path",{d:"M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20A8,8 0 0,0 20,12A8,8 0 0,0 12,4M11,16.5L6.5,12L7.91,10.59L11,13.67L16.59,8.09L18,9.5L11,16.5Z"})}),"Proof-of-Concept: Arbitrum Testnet"]})}),(0,n.jsxs)("p",{style:{margin:"0",color:"var(--foreground-dim)"},children:["Liquidity pools use Chainlink price feed oracles with secure decimal handling for asset valuation. Currently operating on ",(0,n.jsx)("strong",{children:"Arbitrum Sepolia testnet"})," for testing purposes."]})]}),(0,n.jsxs)("div",{className:"exchange-tabs",style:{marginBottom:"1.5rem"},children:[(0,n.jsx)("button",{className:"tab-button ".concat("add"===e?"active":""),onClick:()=>a("add"),children:"Add Liquidity"}),(0,n.jsx)("button",{className:"tab-button ".concat("remove"===e?"active":""),onClick:()=>a("remove"),children:"Remove Liquidity"})]}),(0,n.jsxs)("div",{className:"exchange-form",children:["add"===e?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{children:"Token"}),(0,n.jsx)("select",{className:"token-select",value:x.address,onChange:e=>{let a=j.find(a=>a.address===e.target.value);a&&g(a)},children:j.map(e=>(0,n.jsxs)("option",{value:e.address,children:[e.symbol," - ",e.name]},e.address))})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{children:"ETH Amount"}),(0,n.jsxs)("div",{className:"input-container",children:[(0,n.jsx)("input",{type:"number",className:"input-field",placeholder:"0.0",value:s,onChange:e=>l(e.target.value)}),(0,n.jsx)("button",{className:"max-button",onClick:()=>{if(v){let e=Number((0,o.d)(v.value))>.01?Number((0,o.d)(v.value))-.01:0;l(e.toString())}},children:"MAX"})]}),(0,n.jsxs)("div",{style:{marginTop:"0.5rem",fontSize:"0.85rem",color:"var(--foreground-dim)"},children:["Balance: ",v?(0,o.d)(v.value):"0"," ETH"]})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{children:"Token Amount"}),(0,n.jsx)("div",{className:"input-container",children:(0,n.jsx)("input",{type:"number",className:"input-field",placeholder:"0.0",value:m,onChange:e=>h(e.target.value)})})]}),(0,n.jsx)("button",{className:"action-button",onClick:handleAddLiquidity,disabled:C||!s||!m||0>=Number(s)||0>=Number(m),children:C?"Adding Liquidity...":"Add Liquidity"})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{children:"Token Pair"}),(0,n.jsx)("select",{className:"token-select",value:x.address,onChange:e=>{let a=j.find(a=>a.address===e.target.value);a&&g(a)},children:j.map(e=>(0,n.jsxs)("option",{value:e.address,children:[e.symbol,"/ETH"]},e.address))})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{children:"Liquidity to Remove (LP tokens)"}),(0,n.jsx)("div",{className:"input-container",children:(0,n.jsx)("input",{type:"number",className:"input-field",placeholder:"0.0",value:u,onChange:e=>p(e.target.value)})})]}),(0,n.jsx)("div",{className:"price-info",children:(0,n.jsx)("p",{children:"Removing liquidity will give you ETH and tokens based on your share of the pool."})}),(0,n.jsx)("button",{className:"action-button",onClick:handleRemoveLiquidity,disabled:C||!u||0>=Number(u),children:C?"Removing Liquidity...":"Remove Liquidity"})]}),w&&(0,n.jsx)("div",{style:{color:"green",marginTop:"0.5rem"},children:"add"===e?"Liquidity successfully added!":"Liquidity successfully removed!"}),T&&(0,n.jsxs)("div",{style:{color:"red",marginTop:"0.5rem"},children:["Error: ",(null==A?void 0:A.message)||"Unknown error"]})]})]})}function CreatePairForm(){let[e,a]=(0,t.useState)(""),[s,l]=(0,t.useState)(""),[m,h]=(0,t.useState)(""),{address:u}=(0,c.m)(),{data:p}=(0,d.K)({address:u}),{createPair:x,isPending:g,isSuccess:f,isError:j,error:v}=(0,r.h)(),handleCreatePair=async()=>{try{if(!e||!s||!m)return;await x(e,(0,i.f)(m),(0,i.f)(s))}catch(e){console.error("Failed to create pair:",e)}};return(0,n.jsxs)("div",{className:"card",children:[(0,n.jsx)("h2",{className:"card-title",children:"Create New Trading Pair"}),(0,n.jsxs)("div",{style:{padding:"10px 15px",backgroundColor:"rgba(41, 182, 246, 0.1)",borderLeft:"3px solid #29B6F6",borderRadius:"4px",marginBottom:"1.5rem",fontSize:"0.9rem"},children:[(0,n.jsx)("p",{style:{margin:"0 0 8px 0",fontWeight:500},children:(0,n.jsxs)("span",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[(0,n.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"#29B6F6",children:(0,n.jsx)("path",{d:"M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20A8,8 0 0,0 20,12A8,8 0 0,0 12,4M11,16.5L6.5,12L7.91,10.59L11,13.67L16.59,8.09L18,9.5L11,16.5Z"})}),"Proof-of-Concept: Arbitrum Integration"]})}),(0,n.jsxs)("p",{style:{margin:"0",color:"var(--foreground-dim)"},children:["Create new trading pairs on ",(0,n.jsx)("strong",{children:"Arbitrum Sepolia testnet"})," with Chainlink price feed integration. Arbitrum was selected for its exceptional throughput, Ethereum security, and low transaction fees."]})]}),(0,n.jsxs)("div",{className:"exchange-form",children:[(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{children:"Token Address"}),(0,n.jsx)("input",{type:"text",className:"input-field",placeholder:"0x...",value:e,onChange:e=>a(e.target.value)}),(0,n.jsx)("div",{style:{marginTop:"0.5rem",fontSize:"0.85rem",color:"var(--foreground-dim)"},children:"Enter the contract address of an ERC20 token"})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{children:"Initial ETH Amount"}),(0,n.jsxs)("div",{className:"input-container",children:[(0,n.jsx)("input",{type:"number",className:"input-field",placeholder:"0.0",value:s,onChange:e=>l(e.target.value)}),(0,n.jsx)("button",{className:"max-button",onClick:()=>{if(p){let e=Number((0,o.d)(p.value))>.01?Number((0,o.d)(p.value))-.01:0;l(e.toString())}},children:"MAX"})]}),(0,n.jsxs)("div",{style:{marginTop:"0.5rem",fontSize:"0.85rem",color:"var(--foreground-dim)"},children:["Balance: ",p?(0,o.d)(p.value):"0"," ETH"]})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{children:"Initial Token Amount"}),(0,n.jsx)("input",{type:"number",className:"input-field",placeholder:"0.0",value:m,onChange:e=>h(e.target.value)}),(0,n.jsx)("div",{style:{marginTop:"0.5rem",fontSize:"0.85rem",color:"var(--foreground-dim)"},children:"Make sure you have approved the exchange contract to spend your tokens"})]}),(0,n.jsxs)("div",{className:"price-info",children:[(0,n.jsx)("p",{children:"Creating a new pair requires providing initial liquidity in both ETH and tokens. This establishes the initial exchange rate."}),(0,n.jsx)("p",{children:"You will receive liquidity provider (LP) tokens in return, representing your share of the pool."})]}),(0,n.jsx)("button",{className:"action-button",onClick:handleCreatePair,disabled:g||!e||!s||!m||!e.startsWith("0x")||42!==e.length||0>=Number(s)||0>=Number(m),children:g?"Creating Pair...":"Create Trading Pair"}),f&&(0,n.jsx)("div",{style:{color:"green",marginTop:"0.5rem"},children:"Trading pair created successfully!"}),j&&(0,n.jsxs)("div",{style:{color:"red",marginTop:"0.5rem"},children:["Error: ",(null==v?void 0:v.message)||"Unknown error"]})]})]})}let v=[{address:"0x75faf114eafb1BDbe2F0316DF893fd58CE46AA4d",symbol:"USDC",name:"USD Coin",decimals:6},{address:"0xEe01c0CD76354C383B8c7B4e65EA88D00B06f36f",symbol:"USDT",name:"Tether USD",decimals:6},{address:"0x530A7A937Be63591a12D4550B02Daf806E53968d",symbol:"ARB",name:"Arbitrum",decimals:18}],y=[{tokenAddress:v[0].address,tokenSymbol:v[0].symbol,tokenName:v[0].name,tokenReserve:BigInt(5e6),ethReserve:BigInt(1e18),exchangeRate:1200,liquidityTokens:BigInt(2e18)},{tokenAddress:v[1].address,tokenSymbol:v[1].symbol,tokenName:v[1].name,tokenReserve:BigInt(5e6),ethReserve:BigInt(1e18),exchangeRate:1195,liquidityTokens:BigInt(2e18)}];function PairsOverview(){let{pairs:e,refreshPairs:a}=(0,r.h)();(0,t.useEffect)(()=>{a()},[a]);let s=e.length>0?e:y;return(0,n.jsxs)("div",{className:"card",children:[(0,n.jsx)("h2",{className:"card-title",children:"Trading Pairs"}),(0,n.jsxs)("div",{style:{padding:"10px 15px",backgroundColor:"rgba(41, 182, 246, 0.1)",borderLeft:"3px solid #29B6F6",borderRadius:"4px",marginBottom:"1rem",fontSize:"0.9rem"},children:[(0,n.jsx)("p",{style:{margin:"0 0 8px 0",fontWeight:500},children:(0,n.jsxs)("span",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[(0,n.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"#29B6F6",children:(0,n.jsx)("path",{d:"M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20A8,8 0 0,0 20,12A8,8 0 0,0 12,4M11,16.5L6.5,12L7.91,10.59L11,13.67L16.59,8.09L18,9.5L11,16.5Z"})}),"Proof-of-Concept: Trading Pairs"]})}),(0,n.jsxs)("p",{style:{margin:"0",color:"var(--foreground-dim)"},children:[(0,n.jsx)("strong",{children:"Arbitrum Sepolia testnet only"}),". Trading pairs shown include both real pairs from the blockchain and demonstration pairs. Chainlink price feeds supply reliable exchange rate data. Arbitrum was chosen for its exceptional throughput, Ethereum security, and low transaction fees."]})]}),(0,n.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,n.jsx)("p",{children:"View all available trading pairs on the Pasifika Exchange."}),(0,n.jsx)("p",{children:"Each pair shows the current exchange rate and liquidity reserves."})]}),0===s.length?(0,n.jsxs)("div",{style:{textAlign:"center",padding:"2rem 0"},children:[(0,n.jsx)("p",{children:"No trading pairs available yet."}),(0,n.jsx)("p",{children:"Be the first to create a trading pair!"})]}):(0,n.jsx)("div",{className:"pair-list",children:s.map((e,a)=>(0,n.jsxs)("div",{className:"pair-card",children:[(0,n.jsx)("div",{className:"pair-header",children:(0,n.jsxs)("span",{className:"pair-name",children:[e.tokenSymbol||"Token","/ETH"]})}),(0,n.jsxs)("div",{style:{marginBottom:"0.5rem"},children:[(0,n.jsxs)("div",{children:["Token: ",e.tokenName||e.tokenAddress.slice(0,8),"..."]}),(0,n.jsxs)("div",{children:["Address: ",e.tokenAddress.slice(0,8),"...",e.tokenAddress.slice(-6)]})]}),(0,n.jsxs)("div",{style:{padding:"0.5rem 0",borderTop:"1px solid rgba(255, 255, 255, 0.1)"},children:[(0,n.jsxs)("div",{children:["Token Reserve: ",(0,o.d)(e.tokenReserve)," ",e.tokenSymbol||"Tokens"]}),(0,n.jsxs)("div",{children:["ETH Reserve: ",(0,o.d)(e.ethReserve)," ETH"]})]}),(0,n.jsxs)("div",{style:{marginTop:"0.5rem",padding:"0.5rem",background:"rgba(0, 0, 0, 0.2)",borderRadius:"4px",fontSize:"0.9rem"},children:[(0,n.jsx)("div",{children:"Exchange Rate:"}),(0,n.jsxs)("div",{children:["1 ETH = ",e.exchangeRate," ",e.tokenSymbol||"Tokens"]}),(0,n.jsxs)("div",{children:["1 ",e.tokenSymbol||"Token"," = ",1/e.exchangeRate," ETH"]})]})]},a))})]})}var b=s(61396),N=s.n(b),k=s(16691),C=s.n(k),w=s(50422),T=s(37374),A=s(6613);let S=[{code:"NZD",name:"New Zealand Dollar",symbol:"$"},{code:"FJD",name:"Fijian Dollar",symbol:"$"},{code:"WST",name:"Samoa Tala",symbol:"T"},{code:"TOP",name:"Tongan Paʻanga",symbol:"T$"},{code:"PGK",name:"Papua New Guinea Kina",symbol:"K"}],B=[{symbol:"USDC",name:"USD Coin",decimals:6,image:"/images/tokens/usdc.png"},{symbol:"WETH",name:"Wrapped ETH",decimals:18,image:"/images/tokens/eth.png"},{symbol:"WRBTC",name:"Wrapped RBTC",decimals:18,image:"/images/tokens/rbtc.png"},{symbol:"PASI",name:"Pasifika Token",decimals:18,image:"/images/tokens/pasi.png"}];var components_PaymentGateway=()=>{let{address:e,isConnected:a}=(0,c.m)();(0,A.x)();let{isDarkMode:s}=(0,T.v)(),[r,i]=(0,t.useState)({amount:"",currency:"NZD",recipient:"",description:"",paymentMethod:"crypto",selectedToken:"USDC"}),[l,o]=(0,t.useState)("idle"),[d,m]=(0,t.useState)(""),[h,u]=(0,t.useState)(""),[p,x]=(0,t.useState)({NZD:.61,FJD:.45,WST:.37,TOP:.42,PGK:.27}),[g,f]=(0,t.useState)(.01),[j,v]=(0,t.useState)(!1);(0,t.useEffect)(()=>{let e=""!==r.amount.trim()&&parseFloat(r.amount)>0&&""!==r.recipient.trim()&&""!==r.description.trim();v(e)},[r]),(0,t.useEffect)(()=>{a&&e&&f([.01,.005,.0025][Math.floor(3*Math.random())])},[a,e]);let handleInputChange=e=>{let{name:a,value:s}=e.target;i(e=>({...e,[a]:s}))},handlePaymentMethodSelect=e=>{i(a=>({...a,paymentMethod:e}))},calculateUsdAmount=()=>{let e=parseFloat(r.amount)||0;return e*(p[r.currency]||1)},calculateFee=()=>{let e=calculateUsdAmount();return e*g},processPayment=async e=>{if(e.preventDefault(),j){o("processing"),u("");try{await new Promise(e=>setTimeout(e,2e3)),Math.random()>.05?(o("completed"),m("0x"+Math.random().toString(16).slice(2)+Math.random().toString(16).slice(2))):(o("failed"),u("Transaction failed. Please try again."))}catch(e){o("failed"),u("An error occurred while processing your payment."),console.error("Payment error:",e)}}};return(0,n.jsxs)("div",{className:"payment-gateway-container",children:[(0,n.jsxs)("div",{className:"payment-header",children:[(0,n.jsx)("h2",{children:"Pasifika Payment Gateway"}),(0,n.jsx)("p",{className:"description",children:"Send payments across Pasifika communities using crypto or traditional payment methods."})]}),"idle"===l?(0,n.jsxs)("form",{onSubmit:processPayment,className:"payment-form",children:[(0,n.jsxs)("div",{className:"payment-section",children:[(0,n.jsx)("h3",{children:"Payment Method"}),(0,n.jsx)("div",{className:"payment-methods",children:["crypto","card","bank"].map(e=>(0,n.jsxs)("div",{className:"payment-method-card ".concat(r.paymentMethod===e?"selected":""),onClick:()=>handlePaymentMethodSelect(e),children:[(0,n.jsx)("div",{className:"payment-method-icon",children:(0,n.jsx)("div",{className:"icon-placeholder",children:e.charAt(0).toUpperCase()})}),(0,n.jsx)("div",{className:"payment-method-name",children:"crypto"===e?"Cryptocurrency":"card"===e?"Credit/Debit Card":"Bank Transfer"})]},e))})]}),(0,n.jsxs)("div",{className:"payment-section",children:[(0,n.jsx)("h3",{children:"Payment Details"}),(0,n.jsx)("div",{className:"form-row",children:(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{htmlFor:"amount",children:"Amount"}),(0,n.jsxs)("div",{className:"amount-input-container",children:[(0,n.jsx)("input",{type:"number",id:"amount",name:"amount",value:r.amount,onChange:handleInputChange,placeholder:"0.00",step:"0.01",min:"0",required:!0}),(0,n.jsx)("select",{name:"currency",value:r.currency,onChange:handleInputChange,className:"currency-select",children:S.map(e=>(0,n.jsxs)("option",{value:e.code,children:[e.code," (",e.symbol,")"]},e.code))})]}),(0,n.jsxs)("div",{className:"usd-equivalent",children:["≈ $",calculateUsdAmount().toFixed(2)," USD"]})]})}),"crypto"===r.paymentMethod&&(0,n.jsx)("div",{className:"form-row",children:(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{htmlFor:"selectedToken",children:"Pay with"}),(0,n.jsx)("select",{id:"selectedToken",name:"selectedToken",value:r.selectedToken,onChange:handleInputChange,className:"token-select",children:B.map(e=>(0,n.jsxs)("option",{value:e.symbol,children:[e.symbol," - ",e.name]},e.symbol))})]})}),(0,n.jsx)("div",{className:"form-row",children:(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{htmlFor:"recipient",children:"Recipient Address"}),(0,n.jsx)("input",{type:"text",id:"recipient",name:"recipient",value:r.recipient,onChange:handleInputChange,placeholder:"0x...",required:!0})]})}),(0,n.jsx)("div",{className:"form-row",children:(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{htmlFor:"description",children:"Payment Description"}),(0,n.jsx)("textarea",{id:"description",name:"description",value:r.description,onChange:handleInputChange,placeholder:"What's this payment for?",required:!0})]})})]}),(0,n.jsxs)("div",{className:"payment-summary",children:[(0,n.jsxs)("div",{className:"summary-row",children:[(0,n.jsx)("span",{children:"Amount:"}),(0,n.jsxs)("span",{children:[r.amount," ",r.currency]})]}),(0,n.jsxs)("div",{className:"summary-row",children:[(0,n.jsx)("span",{children:"USD Equivalent:"}),(0,n.jsxs)("span",{children:["$",calculateUsdAmount().toFixed(2)]})]}),(0,n.jsxs)("div",{className:"summary-row",children:[(0,n.jsxs)("span",{children:["Fee (",(100*g).toFixed(2),"%):"]}),(0,n.jsxs)("span",{children:["$",calculateFee().toFixed(2)]})]}),(0,n.jsxs)("div",{className:"summary-row total",children:[(0,n.jsx)("span",{children:"Total:"}),(0,n.jsxs)("span",{children:["$",(()=>{let e=calculateUsdAmount();return e+calculateFee()})().toFixed(2)]})]})]}),(0,n.jsx)("button",{type:"submit",className:"payment-submit-button",disabled:!j||!a,children:a?"Process Payment":"Connect Wallet to Pay"})]}):(0,n.jsxs)("div",{className:"transaction-status-container",children:["processing"===l&&(0,n.jsxs)("div",{className:"processing-status",children:[(0,n.jsx)("div",{className:"spinner"}),(0,n.jsx)("h3",{children:"Processing Your Payment"}),(0,n.jsx)("p",{children:"Please wait while your transaction is being processed..."})]}),"completed"===l&&(0,n.jsxs)("div",{className:"completed-status",children:[(0,n.jsx)("div",{className:"success-icon",children:"✓"}),(0,n.jsx)("h3",{children:"Payment Successful!"}),(0,n.jsx)("p",{children:"Your payment has been processed successfully."}),(0,n.jsxs)("div",{className:"transaction-details",children:[(0,n.jsxs)("div",{className:"detail-row",children:[(0,n.jsx)("span",{children:"Amount:"}),(0,n.jsxs)("span",{children:[r.amount," ",r.currency]})]}),(0,n.jsxs)("div",{className:"detail-row",children:[(0,n.jsx)("span",{children:"USD Equivalent:"}),(0,n.jsxs)("span",{children:["$",calculateUsdAmount().toFixed(2)]})]}),(0,n.jsxs)("div",{className:"detail-row",children:[(0,n.jsx)("span",{children:"Transaction Hash:"}),(0,n.jsx)("span",{className:"hash",children:d})]})]}),(0,n.jsx)("button",{onClick:()=>{i({amount:"",currency:"NZD",recipient:"",description:"",paymentMethod:"crypto",selectedToken:"USDC"}),o("idle"),m(""),u("")},className:"new-payment-button",children:"Make Another Payment"})]}),"failed"===l&&(0,n.jsxs)("div",{className:"failed-status",children:[(0,n.jsx)("div",{className:"error-icon",children:"✕"}),(0,n.jsx)("h3",{children:"Payment Failed"}),(0,n.jsx)("p",{children:h}),(0,n.jsx)("button",{onClick:()=>o("idle"),className:"try-again-button",children:"Try Again"})]})]})]})};function ExchangePage(){let[e,a]=(0,t.useState)("swap"),{address:s,isConnected:r}=(0,c.m)(),{isDarkMode:i}=(0,T.v)();return(0,n.jsxs)("div",{className:"container ".concat(i?"dark":"light"),children:[(0,n.jsx)("div",{className:"header",children:(0,n.jsxs)("div",{className:"header-container",children:[(0,n.jsxs)("div",{className:"logo",children:[(0,n.jsx)(C(),{src:"/pasifika.png",alt:"Pasifika",width:50,height:50}),(0,n.jsx)("div",{className:"logo-text",children:(0,n.jsx)("span",{className:"logo-accent",children:"Pasifika"})})]}),(0,n.jsx)("div",{className:"nav-menu",children:(0,n.jsx)("div",{className:"nav-item",children:(0,n.jsx)(N(),{href:"/services",className:"nav-link-button",children:"Services"})})})]})}),(0,n.jsxs)("div",{className:"page-content exchange-container",children:[(0,n.jsxs)("div",{className:"page-banner",children:[(0,n.jsx)("h1",{className:"page-title",children:"Pasifika Exchange"}),(0,n.jsx)("p",{className:"page-subtitle",children:"Secure cross-chain trading for Pacific Island communities"})]}),(0,n.jsxs)("div",{className:"proof-of-concept-banner",style:{backgroundColor:i?"rgba(255, 87, 34, 0.15)":"rgba(255, 87, 34, 0.1)",border:"1px solid #FF5722",borderRadius:"8px",padding:"15px",margin:"0 0 25px 0",display:"flex",alignItems:"center",gap:"12px"},children:[(0,n.jsx)("div",{style:{backgroundColor:"#FF5722",borderRadius:"50%",width:"30px",height:"30px",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:(0,n.jsx)("span",{style:{color:"white",fontWeight:"bold",fontSize:"18px"},children:"!"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{style:{margin:"0 0 5px 0",color:i?"#FF7043":"#D84315"},children:"Proof of Concept"}),(0,n.jsx)("p",{style:{margin:0,fontSize:"14px"},children:"The Pasifika Exchange is currently in proof-of-concept stage with enhanced Chainlink price feed integration and decimal handling. Some features may be limited and transactions are operating on the Arbitrum Sepolia testnet only."})]})]}),r?(0,n.jsxs)("div",{className:"connected-content",children:[(0,n.jsx)("div",{className:"feature-banner",children:(0,n.jsxs)("div",{className:"network-horizontal-list",children:[(0,n.jsxs)("div",{className:"network-pill",style:{backgroundColor:"rgba(153, 69, 255, 0.1)",borderColor:"#9945ff"},children:[(0,n.jsx)("span",{className:"network-dot",style:{backgroundColor:"#9945ff"}}),(0,n.jsx)("span",{style:{color:"#9945ff",fontWeight:"600"},children:"Arbitrum"})]}),(0,n.jsxs)("div",{className:"network-pill",style:{backgroundColor:"rgba(249, 166, 32, 0.1)",borderColor:"#f9a620"},children:[(0,n.jsx)("span",{className:"network-dot",style:{backgroundColor:"#f9a620"}}),(0,n.jsx)("span",{style:{color:"#f9a620",fontWeight:"600"},children:"RootStock"})]}),(0,n.jsxs)("div",{className:"network-pill",style:{backgroundColor:"rgba(63, 136, 197, 0.1)",borderColor:"#3f88c5"},children:[(0,n.jsx)("span",{className:"network-dot",style:{backgroundColor:"#3f88c5"}}),(0,n.jsx)("span",{style:{color:"#3f88c5",fontWeight:"600"},children:"Linea"})]})]})}),(0,n.jsxs)("div",{className:"exchange-panel",children:[(0,n.jsxs)("div",{className:"exchange-tabs",children:[(0,n.jsxs)("button",{className:"tab-button ".concat("swap"===e?"active":""),onClick:()=>a("swap"),children:[(0,n.jsx)("span",{className:"tab-icon",children:"↔️"}),"Swap"]}),(0,n.jsxs)("button",{className:"tab-button ".concat("liquidity"===e?"active":""),onClick:()=>a("liquidity"),children:[(0,n.jsx)("span",{className:"tab-icon",children:"\uD83D\uDCA7"}),"Liquidity"]}),(0,n.jsxs)("button",{className:"tab-button ".concat("create-pair"===e?"active":""),onClick:()=>a("create-pair"),children:[(0,n.jsx)("span",{className:"tab-icon",children:"✨"}),"Create Pair"]}),(0,n.jsxs)("button",{className:"tab-button ".concat("pairs"===e?"active":""),onClick:()=>a("pairs"),children:[(0,n.jsx)("span",{className:"tab-icon",children:"\uD83D\uDCCA"}),"Trading Pairs"]}),(0,n.jsxs)("button",{className:"tab-button ".concat("payments"===e?"active":""),onClick:()=>a("payments"),children:[(0,n.jsx)("span",{className:"tab-icon",children:"\uD83D\uDCB3"}),"Payments"]})]}),(0,n.jsx)("div",{className:"tab-content",children:(()=>{switch(e){case"swap":default:return(0,n.jsx)(SwapForm,{});case"liquidity":return(0,n.jsx)(LiquidityForm,{});case"create-pair":return(0,n.jsx)(CreatePairForm,{});case"pairs":return(0,n.jsx)(PairsOverview,{});case"payments":return(0,n.jsx)(components_PaymentGateway,{})}})()})]})]}):(0,n.jsx)("div",{className:"welcome-panel",children:(0,n.jsxs)("div",{className:"welcome-content",children:[(0,n.jsxs)("div",{className:"welcome-header",children:[(0,n.jsx)("h2",{children:"Welcome to Pasifika Exchange"}),(0,n.jsx)("p",{className:"welcome-description",children:"The first cross-chain DEX designed specifically for Pacific Island communities"})]}),(0,n.jsxs)("div",{className:"network-feature",children:[(0,n.jsx)("h3",{children:"Supported Networks"}),(0,n.jsxs)("div",{className:"network-horizontal-list",children:[(0,n.jsxs)("div",{className:"network-pill",style:{backgroundColor:"rgba(153, 69, 255, 0.1)",borderColor:"#9945ff"},children:[(0,n.jsx)("span",{className:"network-dot",style:{backgroundColor:"#9945ff"}}),(0,n.jsx)("span",{style:{color:"#9945ff",fontWeight:"600"},children:"Arbitrum"})]}),(0,n.jsxs)("div",{className:"network-pill",style:{backgroundColor:"rgba(249, 166, 32, 0.1)",borderColor:"#f9a620"},children:[(0,n.jsx)("span",{className:"network-dot",style:{backgroundColor:"#f9a620"}}),(0,n.jsx)("span",{style:{color:"#f9a620",fontWeight:"600"},children:"RootStock"})]}),(0,n.jsxs)("div",{className:"network-pill",style:{backgroundColor:"rgba(63, 136, 197, 0.1)",borderColor:"#3f88c5"},children:[(0,n.jsx)("span",{className:"network-dot",style:{backgroundColor:"#3f88c5"}}),(0,n.jsx)("span",{style:{color:"#3f88c5",fontWeight:"600"},children:"Linea"})]})]})]}),(0,n.jsxs)("div",{className:"features-list",children:[(0,n.jsxs)("div",{className:"feature-item",children:[(0,n.jsx)("span",{className:"feature-icon",children:"✓"}),(0,n.jsx)("span",{className:"feature-text",children:"Low fees across all supported networks"})]}),(0,n.jsxs)("div",{className:"feature-item",children:[(0,n.jsx)("span",{className:"feature-icon",children:"✓"}),(0,n.jsx)("span",{className:"feature-text",children:"Cross-chain interoperability"})]}),(0,n.jsxs)("div",{className:"feature-item",children:[(0,n.jsx)("span",{className:"feature-icon",children:"✓"}),(0,n.jsx)("span",{className:"feature-text",children:"Local token support"})]})]}),(0,n.jsx)("div",{className:"connect-wallet-section",children:(0,n.jsx)(w.Z,{})})]})})]}),(0,n.jsx)("div",{className:"footer-banner",children:(0,n.jsx)("p",{children:"Copyright \xa9 Pasifika 2025"})})]})}s(12422)},12422:function(){},97377:function(){},52078:function(e,a,s){"use strict";s.d(a,{f:function(){return parseEther}});var n=s(36238),t=s(29147);function parseEther(e,a="wei"){return(0,t.v)(e,n.ez[a])}},29147:function(e,a,s){"use strict";s.d(a,{v:function(){return parseUnits}});var n=s(39230);let InvalidDecimalNumberError=class InvalidDecimalNumberError extends n.G{constructor({value:e}){super(`Number \`${e}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}};function parseUnits(e,a){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(e))throw new InvalidDecimalNumberError({value:e});let[s,n="0"]=e.split("."),t=s.startsWith("-");if(t&&(s=s.slice(1)),n=n.replace(/(0+)$/,""),0===a)1===Math.round(Number(`.${n}`))&&(s=`${BigInt(s)+1n}`),n="";else if(n.length>a){let[e,t,r]=[n.slice(0,a-1),n.slice(a-1,a),n.slice(a)],i=Math.round(Number(`${t}.${r}`));(n=i>9?`${BigInt(e)+BigInt(1)}0`.padStart(e.length+1,"0"):`${e}${i}`).length>a&&(n=n.slice(1),s=`${BigInt(s)+1n}`),n=n.slice(0,a)}else n=n.padEnd(a,"0");return BigInt(`${t?"-":""}${s}${n}`)}}},function(e){e.O(0,[1473,7346,1165,5559,7769,9056,8835,7860,9958,2002,9240,749,6775,7611,596,2445,6338,2971,2472,1744],function(){return e(e.s=78796)}),_N_E=e.O()}]);